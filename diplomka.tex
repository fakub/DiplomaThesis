\documentclass[11pt,a4paper,twoside,openright]{report}

%  use packages
% --------------
\usepackage[utf8]{inputenc}
%~ \usepackage[T1]{fontenc}   % the font looks strange ...
\usepackage{geometry,amsmath, amsthm, amssymb}   % , units, dsfont, caption
% enumerate: \begin{enumerate}[{Example} I)] ... Roman numbering
\usepackage{graphicx,color,tabularx,float,subcaption,algorithmicx,algpseudocode,mathtools,textcomp}
\usepackage{multirow,emptypage,dcolumn,pdflscape,afterpage,tablefootnote,nameref}
\usepackage{lmodern}
\usepackage[super]{nth}
\usepackage[table]{xcolor}
\usepackage[titletoc]{appendix}
\usepackage{nomencl}
\makenomenclature

\usepackage[pdftex,
						pdftitle={Side-Channel Attack Analysis of AES White-Box Schemes, Jakub Klemsa},
						pdfauthor={Jakub Klemsa},
						pdfsubject={},
						pdfkeywords={White-Box AES, Side-Channel Attack},
						pdfcreator=pdflatex]{hyperref}

% fix left/right margins
\let\tmp\oddsidemargin
\let\oddsidemargin\evensidemargin
\let\evensidemargin\tmp
\reversemarginpar

\usepackage{fancyhdr}
	\pagestyle{fancy}
	\fancyhf{}
	\fancyhead[LO]{\slshape \rightmark}
	\fancyhead[LE]{\slshape \leftmark}
	\fancyhead[RO,RE]{\thepage}

%  customize
% -----------
\let\tmpitem\item
\renewcommand{\item}{\setlength{\itemsep}{0em}\tmpitem}   % míň roztahovačný seznamy
%~ \renewcommand{\labelitemi}{$\circ$}
%~ \newcommand*{\dittoclosing}{--- \raisebox{-0.5ex}{''} ---}   % use or not?

\let\epsilon\varepsilon
\let\phi\varphi

\setcounter{tocdepth}{2}
% \setcounter{secnumdepth}{4}   % subsubsections have numbering

\renewcommand{\bibname}{References}
\renewcommand{\contentsname}{Table of Contents}
\renewcommand{\nomname}{Notations and Symbols}

%  theorems etc.
% ---------------
\theoremstyle{definition}
\newtheorem{thm}{Theorem}[chapter]
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{thesis}[thm]{Thesis}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{defn}[thm]{Definition}
\newtheorem{example}[thm]{Example}
\newtheorem{game}[thm]{Game}
\newtheorem{princ}[thm]{Principle}
\newtheorem{alg}{Algorithm}[chapter]

\theoremstyle{remark} 
\newtheorem{remark}[thm]{Remark}
\newtheorem{note}[thm]{Note}
\newtheorem{notation}[thm]{Notation}

%  my commands
% -------------
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\then}{\Rightarrow}
\newcommand{\rarr}{\rightarrow}
\newcommand{\larr}{\leftarrow}
\newcommand{\xor}{\oplus}
\newcommand{\unirand}{\xleftarrow{R}}
%~ \DeclareMathOperator*{\Prob}{\mathbb{Pr}}   % operátor* bude umět používat \limit :) ... \Pr už existuje! a \mathbb neumí malý písmena
\DeclareMathOperator*{\Adv}{Adv}
\DeclareMathOperator*{\AdvPRP}{Adv_{PRP}}
\DeclareMathOperator*{\AdvSS}{Adv_{SS}}
\DeclareMathOperator*{\AdvPRPSS}{Adv_{PRPSS}}
\DeclareMathOperator*{\bin}{bin}
\DeclareMathOperator*{\Corr}{Corr}
\DeclareMathOperator*{\Mean}{Mean}

\renewcommand{\P}{\mathbb{P}}
\newcommand{\GF}{\mathrm{GF}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Pclass}{\mathsf{P}}
\newcommand{\NPclass}{\mathsf{NP}}

\newcommand{\SubBytes}{\texttt{SubBytes}}
\newcommand{\ShiftRows}{\texttt{ShiftRows}}
\newcommand{\MixColumns}{\texttt{MixColumns}}
\newcommand{\AddRoundKey}{\texttt{AddRoundKey}}
\newcommand{\ExpandedKey}{\texttt{ExpandedKey}}
\newcommand{\KeySchedule}{\texttt{KeySchedule}}

\newcommand{\TBox}{\texttt{TBox}}
\newcommand{\MC}{\texttt{MC}}
\newcommand{\MB}{\texttt{MB}}
\newcommand{\IMB}{\texttt{IMB}}
\newcommand{\Enc}{\texttt{Enc}}

\newcommand{\nicefrac}[2]{{}^{#1}\!/_{#2}}
\newcommand{\atob}[2]{#1 , \ldots , #2}
\newcommand{\link}[1]{\href{http://#1}{\tt #1}}

\newcommand{\cg}[1]{\cellcolor[gray]{#1}}
\newcommand{\weak}{\color[rgb]{0.76,0.76,0.76}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%   k vyplnění ZAČÁTEK
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\cvut}{ČESKÉ VYSOKÉ UČENÍ TECHNICKÉ V~PRAZE}
\newcommand{\fjfi}{Fakulta jaderná a fyzikálně inženýrská}
\newcommand{\km}{Katedra matematiky}
\newcommand{\obor}{Matematická informatika}
\newcommand{\TYPPRACE}{DIPLOMOVÁ PRÁCE}
\newcommand{\TypPrace}{Diplomová práce}
\newcommand{\mePrace}{mé diplomové práce}
\newcommand{\kohoCoPraci}{ji}

\newcommand{\nazevcz}{Analýza AES white-box schémat pomocí útoku postranním kanálem}
\newcommand{\nazeven}{Side-Channel Attack Analysis of AES White-Box Schemes}
\newcommand{\autor}{Jakub Klemsa}
\newcommand{\vedouci}{prof. RNDr. Václav Matyáš, M.Sc., Ph.D.}
\newcommand{\vedoucimu}{prof. RNDr. Václavu Matyáši, M.Sc., Ph.D.}
\newcommand{\pracovisteVed}{Fakulta informatiky, Masarykova Univerzita}
\newcommand{\konzultant}{Mgr. Dušan Klinec}
\newcommand{\rok}{2016}
\newcommand{\akadRok}{2015/2016}
\newcommand{\misto}{Praha}
\newcommand{\VMiste}{V Praze}

%!% vyplnit
\newcommand{\klicova}{White-box AES, útok postranním kanálem, paměťová stopa.}
\newcommand{\keyword}{White-box AES, side-channel attack, memory trace.}
\newcommand{\abstrCZ}{Nejen že jsou všechna současná vědecká white-box schémata stan\-dar\-di\-zo\-va\-ných šifer matematicky zlomená, další ránu pro ně představuje nový útok od autorů Bos a kol.\ \cite{bos2015differential} z července 2015. Tento útok je velmi univerzální a účinný -- nepotřebuje ani znalost implementace, ani použití reverzního inženýrství.

Ve svojí práci se mi podařilo reprodukovat útok na implementaci \cite{klinec2013implementation} konkrétní chráněné šifry \cite{chow2002aes}, vylepšit ho a nakonec i vysvětlit jeho podstatu, což původní autoři nezmiňují.}
\newcommand{\abstrEN}{Not only have all current scientific white-box schemes of standardized ciphers been mathematically broken, they further need to face a novel attack by Bos et al.\ \cite{bos2015differential} published in July, 2015. This attack is very universal and powerful -- it requires neither knowledge of the implementation, nor use of reverse engineering techniques.

In this thesis, we successfuly reproduced the attack against an implementation \cite{klinec2013implementation} of a specific protected cipher \cite{chow2002aes}. We further improved the original attack, and finally provided an explanation of its principle, which the original authors omitted.}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%   k vyplnění KONEC
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}


\pagenumbering{roman}
\begin{titlepage}
	
	%%% 1. úvodní strana
	\thispagestyle{empty}
	\begin{center}
		{\Large \cvut \\[12pt] \fjfi \\[260pt]}
		{\Huge \TYPPRACE}
	\end{center}
	\vfill
	{
		\Large \misto, \rok \hfill \autor
	}
	\cleardoublepage
	
	
	%%% 2. úvodní strana
	\thispagestyle{empty}
	\begin{center}
		{\Large \cvut \\[10pt] \fjfi \\[10pt] \km \\[40pt]}
		\includegraphics[height=75pt]{lev.pdf} \\[100pt]
		
		{\LARGE \TYPPRACE \\[60pt]}
		
		{\Large\bf \nazevcz \\[30pt]}
		
		{\Large\bf \nazeven}
	\end{center}
	\vfill
	{
		\Large
		\begin{tabular}{ll}
		Vypracoval: & \autor\\[3pt]
		Školitel: & \vedouci\\[3pt]
		Akademický rok: & \akadRok
		\end{tabular}
	}
	\cleardoublepage
	
	
	%%% sem přijde ofic. zadání
	\thispagestyle{empty}
	\Large
	Na toto místo přijde svázat \textbf{zadání \mePrace}!
	
	\vspace{4mm}
	V~jednom z~výtisků musí být \textbf{originál} zadání, v~ostatních kopie.
	\normalsize
	\cleardoublepage
	
	
	%%% prohlášení
	\thispagestyle{empty}
	~
	\vfill
	\noindent\textbf{Čestné prohlášení}
	\vspace{0.5cm}
	
	\noindent
	Prohlašuji na tomto místě, že jsem předloženou práci vypracoval samostatně a že jsem uvedl veškerou použitou literaturu.
	\vspace{1.5cm}
	
	\noindent
	\vspace{5mm}\VMiste ~dne 6.\ května 2016\hfill
		\begin{tabular}{c}
		. . . . . . . . . . . . . . . . . . . . . . .\\
		\autor
		\end{tabular}
	\cleardoublepage
	
	
	%%% poděkování
	\thispagestyle{empty}
	~
	\vfill
	\noindent\textbf{Poděkování}
	\vspace{0.5cm}
	
	\noindent
	Děkuji \vedoucimu, za vedení \mePrace ~a za podnětné návrhy, které \kohoCoPraci ~obohatily.
	
	\begin{flushright}
	\autor
	\end{flushright}
	\cleardoublepage
	
	
	%%% abstrakt atp.
	\thispagestyle{empty}
	\begin{tabularx}{\textwidth}{lX}
		{\em Název práce:} & \bf \nazevcz \\[4mm]
		{\em Autor:} & \autor \\[4mm]
		{\em Obor:} & \obor \\[4mm]
		{\em Druh práce:} & \TypPrace \\[4mm]
		{\em Vedoucí práce:} & \vedouci, \pracovisteVed \\[4mm]
		{\em Konzultant:} & \konzultant \\[4mm]
		{\em Abstrakt:} & \abstrCZ \\[4mm]
		{\em Klíčová slova:} & \klicova \\[20mm]
		
		{\em Title:} & \bf \nazeven \\[4mm]
		{\em Author:} & \autor \\[4mm]
		{\em Abstract:} & \abstrEN \\[4mm]
		{\em Keywords:} & \keyword
	\end{tabularx}
	\cleardoublepage
	
	
	%%% obsah
	\thispagestyle{empty}
	\tableofcontents
	\cleardoublepage
	
	
	%%% nomenklatura
	\thispagestyle{empty}
	\printnomenclature[4em]
	\markboth{\MakeUppercase{\nomname}}{}
	\cleardoublepage
	
\end{titlepage}

\pagenumbering{arabic}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%   Z A Č Á T E K   P R Á C E
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		
		% 	%_% ... nový
		% 	%!% ... kritický
		% 	%?% ... co s tim?
		
		% FINAL CHECK:
		% 	referred to as (-the?)
		% 	setřídit nomenclaturu: \nomenclature[01]{$X$}{Set $X$}
		% 	note vs. remark
		% 	polynomials in this thesis are with GF(2) coefficients, unless stated otherwise
		% 	umístění floatů a nadpisů (něco hodit na novou)
		% 	vhodně vyignorovat bačinskou
		
		% DONE:
		% 	bib: title={{Blah Blah ... 2x braces to keep Capital Letters.}}
		% 	kapitalizovat vše mimo předložek (tj. And taky)
		
		
		%%% PŘEDMLUVA
		\input{./include/0-preface.tex}
		
		%%% KAPITOLA 1
		\input{./include/1-intro.tex}
		
		%%% KAPITOLA 2
		\input{./include/2-attack.tex}
		
		%%% KAPITOLA 3
		\input{./include/3-results.tex}
		
		%%% KAPITOLA 4
		\input{./include/4-analysis.tex}
		
		%%% KAPITOLA 5
		\input{./include/5-future.tex}
		
		%%% ZÁVĚR
		\input{./include/n-1-conclusion.tex}
		
		%%% LITERATURA
		\input{./include/n-biblio.tex}
		
		%%% APPENDIX
		\input{./include/p-appendix.tex}
		
		
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%   K O N E C   P R Á C E
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}