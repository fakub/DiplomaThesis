\section{Results}
\label{sec:results}

First of all, we used our toolkit to attack our straightforward C++ implementation of AES, here named {\tt naiveAES}, which served just as a proof-of-concept, see results in Section \ref{sec:naiveaes}. Note that the section does not fully cover many details, these are given separately later.

Then we performed the most interesting attack which Bos et al.\ \cite{bos2015differential} did -- we successfuly attacked Klinec's C++ implementation \cite{klinec2013implementation} of WBAES by Chow et al.\ \cite{chow2002aes}, here named {\tt KlinecWBAES}. See results and comments in Section \ref{sec:klinecwbaes}.


% ==============================================================================
% ===   n a i v e A E S                                                      ===
% ==============================================================================

\subsection{\tt naiveAES}
\label{sec:naiveaes}

In order to prove the concept of both SCA algorithms presented in this thesis, we first attacked our straightforward AES implementation {\tt naiveAES} with both of them. Both attacks are expected to work since {\tt naiveAES} stores all intermediate results needed for each attack.

\subsubsection{CPA Attack against {\tt naiveAES}}
	
	What experiment we made \ldots
	% We repeated CPA attack (i.e. Algorithm \ref{alg:cpa}) with $10$ different keys and for different amounts of plaintexts. See results in Table \ref{tab:naiveaes}.
	%~ CPA attack required $x$ traces, bitwise DPA attack required $y$ traces.
	
	\begin{table}[H]
		\begin{center}
		\begin{tabular}{| c | c | c | c |}
			\hline
			Results & of attack & against {\tt naiveAES} & . \\
			\hline
		\end{tabular}
		\end{center}
	\caption{CPA attack against {\tt naiveAES}}
	\label{tab:naiveaescpa}
	\end{table}
	

\subsubsection{Bit-Wise DPA Attack against {\tt naiveAES}}
	
	Algorithm \ref{alg:bitwisedpa} \ldots
	
	\begin{table}[H]
		\begin{center}
		\begin{tabular}{| c | c | c | c |}
			\hline
			Results & of attack & against {\tt naiveAES} & . \\
			\hline
		\end{tabular}
		\end{center}
	\caption{Bit-Wise DPA attack against {\tt naiveAES}.}
	\label{tab:naiveaesdca}
	\end{table}
	%?% vyzkoušet rijinv na naiveAES, nemělo by jít, a taky nejde


% ==============================================================================
% ===   K l i n e c W B A E S                                                ===
% ==============================================================================

\subsection{\tt KlinecWBAES}
\label{sec:klinecwbaes}

First we tried to attack {\tt KlinecWBAES} with CPA attack, too, but it did not break any key byte at all. Therefore the rest of our results focuses exclusively on bit-wise DPA attack.

\subsubsection{Bit-Wise DPA Attack against {\tt KlinecWBAES}}
	
	We used $1024$ traces for the attack, see results in Table \ref{tab:klinecsbox}. In this table we give percentual gap of the best candidate to the second candidate together with rank of the true key byte, for each key byte and target bit.
	
	Compared to the results of Bos et al.\ \cite{bos2015differential}, we successfuly reproduced one half of their attack. The second half is given in Section \ref{sec:rijinv} because it requires some improvements to be introduced.
	
	\begin{note}
	\label{note:tailrank}
		As already noted by the original authors, we can see remarkably many tail ranks (e.g.\ between $250$ and $255$) in results in Table \ref{tab:klinecsbox}.
	\end{note}
	
	\afterpage{
		\clearpage   % To flush out all floats, might not be what you want
		\begin{landscape}
		\begin{table}[H]
			\begin{center}
			\input{./tables/3_2_3-klinec-sbox.tex}   %!% obrátit pořadí sloupečků !!!
			\end{center}
		\caption{Bit-Wise DPA attack against {\tt KlinecWBAES} using $1024$ traces. Percentual gap of the best candidate and rank of the true key byte is given for each key byte and target bit. Rank of the true candidate goes from $0$ while $0$ (i.e.\ the top position) is replaced with $\blacksquare$ in order to be well emphasized.}
		\label{tab:klinecsbox}
		\end{table}
		\end{landscape}
	}

% jak dlouho to běželo, že jsem zjistil adresu kde to leakuje


% ==============================================================================
% ===   B a c i n s k a   W B A E S +                                        ===
% ==============================================================================

% proč to s tou javou nešlo:
% neimplementuje AES ale "zlepšenou" verzi
% key-dependent SBoxy => útok tak jak je ani fungovat nemůže
